@use 'variables' as vars;

// Optimizaciones específicas para scroll suave en móviles
.dashboard {
  -webkit-overflow-scrolling: touch;
  overscroll-behavior-y: auto;
  overscroll-behavior-x: contain;
  
  @media (pointer: coarse) {
    touch-action: pan-y pan-x;
    -webkit-overflow-scrolling: touch;
  }
}

// Optimizaciones para elementos del grid
.game-grid,
.game-list,
.favorites-grid {
  @media (max-width: 767px) {
    -webkit-overflow-scrolling: touch;
  }
}

// Transiciones optimizadas en móviles
@media (max-width: 767px) {
  .dashboard {
    .dashboard-header {
      animation-duration: 0.25s;
    }
    
    .favorites,
    .all-games {
      animation-duration: 0.25s;
    }
    
    button,
    .filter-chip,
    .view-btn {
      transition-duration: 0.1s;
    }
    
    .filter-chips {
      -webkit-overflow-scrolling: touch;
      overscroll-behavior-x: contain;
    }
  }
}

// Optimizaciones específicas para el scroll horizontal de filtros
.filter-chips {
  // Mejora el scroll horizontal en móviles
  -webkit-overflow-scrolling: touch;
  overscroll-behavior-x: contain;
  scroll-behavior: smooth;
  
  @media (max-width: 767px) {
    // Padding para mejor UX en móviles
    padding: 0 1rem;
    margin: 0 -1rem;
    
    // Mejora la fluidez del scroll horizontal
    scroll-snap-type: x proximity;
    
    .filter-chip {
      scroll-snap-align: center;
      // Evita el parpadeo durante el scroll
      -webkit-font-smoothing: antialiased;
      backface-visibility: hidden;
    }
  }
}

// Modal en móviles
.modal-overlay {
  @media (max-width: 767px) {
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
  }
}

// iOS-specific
@supports (-webkit-touch-callout: none) {
  .dashboard {
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: none;
  }
}

// Optimizaciones para dispositivos con pantallas de alta densidad
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .dashboard {
    // Mejora el rendering en pantallas retina
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    
    .game-grid img,
    .list-img img {
      // Optimiza las imágenes en pantallas de alta densidad
      image-rendering: -webkit-optimize-contrast;
      image-rendering: crisp-edges;
    }
  }
}

// Reduce las animaciones en dispositivos de gama baja
@media (prefers-reduced-motion: no-preference) and (max-width: 767px) {
  .dashboard {
    // Mantiene las animaciones pero más suaves
    animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    
    * {
      animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
      transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    }
  }
}